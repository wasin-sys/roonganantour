# Tour System Prototype - Feature Documentation

เอกสารฉบับนี้รวบรวมรายการฟีเจอร์ทั้งหมดของระบบ Tour System Prototype (เวอร์ชันปัจจุบัน) โดยแบ่งตามโมดูลการทำงาน เพื่อให้เห็นภาพรวมความสามารถของระบบ

---

## 1. ระบบจัดการสิทธิ์ผู้ใช้งาน (Role-Based Access Control - RBAC)
ระบบจำลองการจัดการสิทธิ์เพื่อแบ่งแยกหน้าที่การทำงานของผู้ใช้แต่ละระดับ
*   **User Switcher (Demo):** สามารถกดเปลี่ยน User เพื่อทดสอบระบบในมุมมองต่างๆ ได้ทันทีที่ Sidebar
*   **Roles:**
    *   **Manager:** มีสิทธิ์ทุกอย่าง (Full Access) แก้ไข Route, จัดการ User, ดู Report, ลบข้อมูลได้
    *   **Sale:** เน้นการขายจองทัวร์ เพิ่มลูกทัวร์ได้ แต่ลบลูกทัวร์ไม่ได้ (เว้นแต่เป็นหัวหน้า) และเข้าถึงเมนูตั้งค่าไม่ได้
    *   **Guide / Operations:** เน้นการดูข้อมูล (View Only) เพื่อเตรียมงานหน้างาน ไม่สามารถแก้ไขข้อมูลการจองหรือราคาได้

---

## 2. Dashboard (แผงควบคุมหลัก)
ภาพรวมสถานะปัจจุบันของบริษัททัวร์
*   **Key Metrics:** แสดงตัวเลขสำคัญแบบ Real-time (จำลอง) เช่น ทัวร์ที่กำลังออกเดินทาง, จำนวน Booking ใหม่, ยอดขายเดือนนี้, จำนวนลูกทัวร์ทั้งหมด
*   **Quick Actions:** ปุ่มลัดสำหรับสร้าง Booking ใหม่ หรือค้นหาลูกทัวร์
*   **Recent Bookings:** ตารางแสดงรายการจองล่าสุด พร้อมสถานะ
*   **Upcoming Tours:** ปฏิทินแสดงทัวร์ที่กำลังจะเดินทางเร็วๆ นี้

---

## 3. Booking Wizard (ระบบจองทัวร์)
กระบวนการจองทัวร์แบบ Step-by-Step ที่ออกแบบมาเพื่อลดความผิดพลาดและใช้งานง่าย
*   **Step 1: Select Route (เลือกเส้นทาง)**
    *   แสดงรายการเส้นทางทัวร์ทั้งหมดพร้อมรูปภาพปก
    *   แสดงรหัสทัวร์ (Tour Code) และชื่อประเทศ
*   **Step 2: Select Round (เลือกรอบเดินทาง)**
    *   แสดงตารางรอบเดินทางของเส้นทางที่เลือก
    *   **ข้อมูลละเอียด:** แสดงสายการบิน, วันที่เดินทาง, ราคา (ผู้ใหญ่พักคู่ / พักเดี่ยว), จำนวนที่นั่งทั้งหมด
    *   **Status Indicator:** แสดงสถานะที่นั่ง (Available หรือ Sold Out) หากที่นั่งเต็มจะแสดงผลชัดเจน
*   **Step 3: Passenger Details (ระบุตั๋วและผู้เดินทาง)**
    *   **Head Responsible:** ระบุชื่อหัวหน้าทัวร์หรือผู้ดูแล Route นี้
    *   **Customer Search:** ค้นหาประวัติลูกค้าเก่าจากฐานข้อมูล (ชื่อ หรือ เลขพาสปอร์ต) เพื่อดึงข้อมูลมาลง Booking ได้ทันที ไม่ต้องพิมพ์ใหม่
    *   **Dynamic Pricing:** สามารถเลือกประเภทห้องพักให้ลูกทัวร์แต่ละคนได้ (Adult Twin, Single, Triple, Child Bed, Child No Bed) โดยระบบจะดึงราคาตามจริงจากรอบนั้นๆ มาคำนวณยอดรวมให้อัตโนมัติ
    *   **Payment Status:** แสดงสถานะการชำระเงินของลูกทัวร์แต่ละคนในรายการ
    *   **Proceed to Payment:** ปุ่มยืนยันการจองที่จะสร้าง Payment Record และปรับสถานะลูกทัวร์เป็น Pending ทันที

---

## 4. Payment History (ประวัติการชำระเงิน)
ระบบติดตามสถานะการเงิน (ปรับปรุงใหม่เน้นการดูประวัติ)
*   **Financial Overview:** การ์ดสรุปยอดเงินสำคัญ (Total Outstanding, Paid This Month, Pending Verification)
*   **Transaction Table:** ตารางแสดงประวัติธุรกรรมทั้งหมด
    *   แสดง Booking ID, ชื่อลูกค้า, Route ที่จอง
    *   แสดงยอดเงินรวม (Total), ยอดที่จ่ายแล้ว (Paid), และยอดคงค้าง (Balance)
    *   แสดงสถานะ (Pending, Partial, Paid) และวันที่ทำรายการ

---

## 5. Operations (ระบบจัดการหลังบ้าน/ปฏิบัติการ)
เครื่องมือสำหรับทีม Operation เพื่อเตรียมความพร้อมก่อนเดินทาง
*   **Round Filtering:** ค้นหาและเลือกรอบทัวร์ที่ต้องการจัดการ
*   **Progress Tracking:** แถบแสดงสถานะความพร้อมของทัวร์นั้นๆ (เช่น จองตั๋วเครื่องบินแล้ว, ประกันพร้อมแล้ว, โรงแรมพร้อมแล้ว)
*   **Pax Manifest (บัญชีรายชื่อลูกทัวร์):**
    *   ตารางรายชื่อลูกทัวร์ทุกคนในรอบนั้นๆ
    *   **Task Checklist:** เช็คลิสต์งานรายบุคคล เช่น ได้รับพาสปอร์ตแล้ว, ทำวีซ่าแล้ว, แจกกระเป๋าแล้ว
    *   **Smart Child Logic:** หากลูกทัวร์อายุต่ำกว่า 15 ปี ระบบจะเปลี่ยนช่องเช็ค Passport เป็น "Birth Cert" (สูติบัตร) ให้อัตโนมัติ เพื่อความถูกต้องตามกฎหมาย
    *   **Attachment View:** ไอคอนแสดงไฟล์แนบ (เช่น หน้าพาสปอร์ต)
*   **Auto Luggage Tags:** ระบบสร้างป้ายติดกระเป๋าอัตโนมัติจากข้อมูลลูกทัวร์ พร้อมหน้าต่าง Preview ก่อนพิมพ์

---

## 6. CRM (ระบบบริหารลูกค้าสัมพันธ์)
ฐานข้อมูลลูกค้าเพื่อการบริการที่ต่อเนื่อง
*   **Customer Database:** เก็บข้อมูลลูกค้า (ชื่อดู, ชื่อไทย, วันเกิด, พาสปอร์ต, เบอร์โทร, ประวัติแพ้วัคซีน/อาหาร)
*   **Search Engine:** ค้นหาลูกค้าได้รวดเร็ว
*   **Interactive Form:** แบบฟอร์มเพิ่ม/แก้ไขข้อมูลลูกค้า
*   **Booking History:** (ส่วนขยายในอนาคต) ดูประวัติการเที่ยวที่ผ่านมาของลูกค้า

---

## 7. System Settings (ตั้งค่าระบบ)
ส่วนจัดการโครงสร้างระบบ (เฉพาะ Manager)
*   **User Management:** เพิ่ม/ลด พนักงานในระบบ
*   **Role Assignment:** กำหนดตำแหน่ง (Manager/Sale/Guide)
*   **Commission Setup:** ตั้งค่า % ค่าคอมมิชชั่นให้กับเซลล์แต่ละคน

---

### หมายเหตุ
ระบบนี้เป็น **Prototype (ต้นแบบ)** การทำงานบางส่วนเป็นการจำลองข้อมูล (Mock Data) และการเชื่อมต่อ API จริงยังต้องดำเนินการในขั้นตอนถัดไป (Implementation Phase)
