# Tour System Prototype - Feature Documentation

เอกสารฉบับนี้รวบรวมรายการฟีเจอร์ทั้งหมดของระบบ Tour System Prototype (เวอร์ชันปัจจุบัน) โดยแบ่งตามโมดูลการทำงาน เพื่อให้เห็นภาพรวมความสามารถของระบบ

**Last Updated:** 2026-01-13

---

## 1. Booking Wizard (ระบบจองทัวร์)
กระบวนการจองทัวร์แบบ Step-by-Step ที่ออกแบบมาเพื่อลดความผิดพลาดและใช้งานง่าย

### 1.1 Step 1: Select Route (เลือกเส้นทาง)
*   แสดงรายการเส้นทางทัวร์ทั้งหมดพร้อมรูปภาพปก
*   แสดงรหัสทัวร์ (Tour Code) และชื่อประเทศ

### 1.2 Step 2: Select Round (เลือกรอบเดินทาง)
*   แสดงตารางรอบเดินทางของเส้นทางที่เลือก
*   **ข้อมูลละเอียด:** แสดงสายการบิน, วันที่เดินทาง, ราคา (ผู้ใหญ่พักคู่ / พักเดี่ยว), จำนวนที่นั่งทั้งหมด
*   **Status Indicator:** แสดงสถานะที่นั่ง (Available หรือ Sold Out)

### 1.3 Step 3: Passenger Details (ระบุตั๋วและผู้เดินทาง)
*   **รายชื่อผู้จองในรอบ:** แสดงตารางผู้ที่จองแล้วในรอบนั้น พร้อมข้อมูล:
    *   ชื่อ-นามสกุล
    *   ผู้ขาย (Sale ที่เพิ่มลูกค้า)
    *   วันที่ชำระเงิน
    *   ยอดจอง (ราคาตามประเภทห้อง)
    *   สถานะการชำระ (ชำระแล้ว / ชำระบางส่วน / รอชำระ)
    *   **แถวรวมยอดจอง:** แสดงยอดรวมทั้งหมดของรอบนั้น
*   **Head Responsible:** ระบุชื่อหัวหน้าทัวร์หรือผู้ดูแล Route นี้
*   **Customer Search:** ค้นหาประวัติลูกค้าเก่าจากฐานข้อมูล (ชื่อ หรือ เลขพาสปอร์ต) และเพิ่มลงใน Booking ได้ทันที
*   **Dynamic Pricing:** สามารถเลือกประเภทห้องพักให้ลูกทัวร์แต่ละคนได้ (Adult Twin, Single, Triple, etc.)
*   **Payment Insight:** แสดงยอดชำระแล้ว (Paid) และยอดคงค้าง (Balance) ของแต่ละบุคคล พร้อมสถานะสีที่ชัดเจน (แดง/เขียว)
*   **Smart Estimation:** คำนวณยอดรวมที่ต้องชำระจริงโดยอ้างอิงจาก **ยอดคงค้าง (Balance)** ของผู้เดินทางที่เลือก

### 1.4 Payment Options (ตัวเลือกการชำระ)
*   **ยืนยันการจอง:** สร้าง Booking Record พร้อมสถานะการเงินเริ่มต้น สามารถชำระผ่านบัญชีธนาคารแล้วแนบใบเสร็จการชำระเงินกลับมาได้
*   **ชำระเงินทันที:** รองรับการบันทึกยอดชำระผ่านระบบ payment gateway

---

## 2. Operations (ระบบปฏิบัติการ / การปิดกรุ๊ป)
เครื่องมือสำหรับทีม Operation เพื่อเตรียมความพร้อมก่อนเดินทางและปิดกรุ๊ปทัวร์

### 2.1 Smart Operation Alerts (การแจ้งเตือนงานปฏิบัติการ)
ระบบตรวจสอบอัตโนมัติ 3 ส่วนสำคัญเพื่อป้องกันข้อผิดพลาด:
*   **Birthday Alert:** แจ้งเตือนรายชื่อลูกทัวร์ที่มีวันเกิดตรงกับช่วงวันเดินทาง
*   **Visa & Prep Docs:** แจ้งเตือนสถานะการเตรียมเอกสารและวีซ่าของกรุ๊ป
*   **Flight Ticket Status:** สรุปสถานะการจองและออกตั๋วเครื่องบิน

### 2.2 Round Listing (รายการรอบทัวร์)
*   **Overview Card:** แสดงข้อมูลสรุปของแต่ละรอบ (Route Code, วันที่, หัวหน้าทัวร์, จำนวน Pax)
*   **Progress Bar:** แถบแสดง % ความพร้อมของทัวร์นั้นๆ
*   **Guide Assignment:** ระบบมอบหมายไกด์ประจำกรุ๊ป

### 2.3 Pax Manifest (บัญชีรายชื่อลูกทัวร์)
*   ตารางรายชื่อลูกทัวร์ทุกคนในรอบนั้นๆ พร้อมข้อมูลพาสปอร์ต
*   **Task Checklist:** เช็คลิสต์งานรายบุคคล (Passport, Visa, Ticket, Insurance, Payment)
*   **Guide Checklist:** เช็คลิสต์สำหรับไกด์/หัวหน้าทัวร์ (ตรวจสอบตั๋วเครื่องบิน, ตรวจสอบที่พัก)
*   **Smart Child Logic:** เปลี่ยนช่องเช็ค Passport เป็น "Birth Cert" อัตโนมัติสำหรับเด็กอายุต่ำกว่า 15 ปี
*   **Attachment View:** ไอคอนแสดงไฟล์แนบ

### 2.4 การปิดกรุ๊ป (Close Group)
*   **ตรวจสอบความพร้อม:** ดู Progress Bar และ Checklist
*   **ดาวน์โหลดเอกสาร:** ปุ่มดาวน์โหลดรายชื่อ, ใบเตรียมตัว (Mockup)
*   **Luggage Tag Generator:** ระบบสร้างป้ายติดกระเป๋าอัตโนมัติพร้อม Preview ก่อนพิมพ์

---

## 3. Payment History (ประวัติการชำระเงิน)
ระบบติดตามสถานะการเงินและดูรายละเอียดการชำระ

### 3.1 Financial Overview
*   **การ์ดยอดคงค้างรวม:** แสดงยอดเงินที่ยังค้างรับ
*   **การ์ดยอดรับเดือนนี้:** แสดงยอดที่ได้รับแล้ว

### 3.2 Transaction Table
*   ตารางแสดงประวัติธุรกรรมทั้งหมด พร้อมสถานะและวันที่
*   **Filter/Sort:** กรองดูรายการชำระตามเงื่อนไข

---

## 4. CRM (ระบบบริหารลูกค้าสัมพันธ์)
ฐานข้อมูลลูกค้าเพื่อการบริการที่ต่อเนื่อง

*   **Customer Database:** เก็บข้อมูลลูกค้า (ชื่อ, พาสปอร์ต, เบอร์โทร, ไลน์, ฯลฯ)
*   **Data Separation:** **แยกคอลัมน์** ข้อมูลการติดต่อ (Contact) และ หมายเหตุ (Note) เพื่อความชัดเจน
*   **Owner Tracking:** แสดงชื่อพนักงาน (Admin/Sale) ผู้ที่เป็นเจ้าของข้อมูล (คนเพิ่มลูกค้า) สำหรับการติดตาม
*   **Interactive Form:**
    *   ฟอร์มเพิ่ม/แก้ไขข้อมูลที่ครบถ้วน (Passport Check, Age Calculation)
    *   **Manage Owner:** ระบบกำหนดผู้ดูแลอัตโนมัติ และ Manager สามารถเปลี่ยนสิทธิ์ผู้ดูแลลูกค้าได้
*   **Blacklist Management:** ระบบจัดการรายชื่อบุคคลเฝ้าระวัง

---

## 5. Dashboard (แผงควบคุมหลัก)
ภาพรวมสถานะปัจจุบันของบริษัททัวร์

*   **Key Metrics:** แสดงตัวเลขสำคัญ (ทัวร์ออกเดินทาง, ยอดขาย, ลูกทัวร์รวม)
*   **Upcoming Tours:** ปฏิทินแสดงทัวร์เร็วๆ นี้
*   **Alert System:** การแจ้งเตือนวันเกิดลูกค้า, แจ้งเตือนพาสปอร์ตหมดอายุ, แจ้งเตือนเอกสารเตรียมตัว

---

## 6. ระบบจัดการสิทธิ์ผู้ใช้งาน (Role-Based Access Control)
*   **Manager:** Full Access (จัดการ Route, User, Commission, แก้ไขข้อมูลได้ทุกส่วน)
*   **Sale:** ดูแล Booking ของตนเอง, เพิ่มลูกค้า, ดู Dashboard
*   **Guide:** ดูรายชื่อลูกทัวร์, เช็คลิสต์หน้างาน (Ticket/Hotel)
*   **Interactive Switcher:** เปลี่ยน Role ได้ทันทีเพื่อทดสอบระบบ

---

## 7. System Settings (ตั้งค่าระบบ)
*   **User Management:** เพิ่ม/ลด/แก้ไข พนักงาน
*   **Commission Setup:**
    *   กำหนด Rank ค่าคอมมิชชั่น (Rank 1 / Rank 2)
    *   **Role Constraint:** ซ่อนตัวเลือก Rank สำหรับตำแหน่งที่ไม่ได้รับคอมมิชชั่น (Manager, Guide/Operation) อัตโนมัติ

---
